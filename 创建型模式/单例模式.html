<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    /**
     * 保证一个类仅有一个实例，并提供一个访问它的全局访问点
     * 主要解决一个全局使用的类频繁地创建和销毁，占用内存
     * */

    //es5写法闭包创建单例模式
    var Singleton = (function (){
        var instance
        function User(name,age){
            this.name = name
            this.age = age
        }
        return function (name,age){
            if(!instance){
                //创建实例
                instance = new User(name,age)
            }
            return instance
        }
        })()

    // es6写法
    class Singleton{
        constructor(name,age) {
            if(!Singleton.instance){
                this.name = name;
                this.age = age
                Singleton.instance = this
            }
            return Singleton.instance
        }
    }
</script>
</html>